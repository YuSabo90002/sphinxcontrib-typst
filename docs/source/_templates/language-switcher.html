{# Language switcher for Furo theme #}
<div class="language-switcher">
  <p class="sidebar-label">Language / 言語</p>
  <ul>
    {% for lang_code, lang_name in languages %}
    <li{% if language == lang_code %} class="active"{% endif %}>
      {% if language == lang_code %}
      <span>{{ lang_name }}</span>
      {% else %}
      {# Generate language switch URL by replacing the language code in the current page path #}
      {% set current_page = pagename + '.html' if pagename else 'index.html' %}
      {% set base_path = pathto_root %}
      <a href="{{ base_path }}../{{ lang_code }}/{{ current_page }}">{{ lang_name }}</a>
      {% endif %}
    </li>
    {% endfor %}
  </ul>
</div>
